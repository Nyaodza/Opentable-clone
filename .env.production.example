# =============================================================================
# OpenTable Clone - Production Environment Template
# =============================================================================
# INSTRUCTIONS:
# 1. Copy this file to .env.production
# 2. Replace ALL placeholder values with actual production credentials
# 3. NEVER commit .env.production to version control
# 4. Store actual secrets in AWS Secrets Manager / HashiCorp Vault / etc.
# =============================================================================

# =============================================================================
# Production Environment Variables - COPY TO .env.production
# This file should be customized for your production deployment

#==================================
# üåç ENVIRONMENT CONFIGURATION
#==================================
NODE_ENV=production
PORT=3001
HOST=0.0.0.0

# Application URLs
FRONTEND_URL=https://opentable-clone.vercel.app
BACKEND_URL=https://api-opentable-clone.vercel.app
SITE_URL=https://opentable-clone.vercel.app
NEXT_PUBLIC_SITE_URL=https://opentable-clone.vercel.app
NEXT_PUBLIC_API_URL=https://api-opentable-clone.vercel.app

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================
DATABASE_URL=postgresql://USERNAME:PASSWORD@HOST:5432/DATABASE_NAME
DB_HOST=your-db-host.rds.amazonaws.com
DB_PORT=5432
DB_NAME=opentable_production
DB_USER=opentable_prod_user
DB_PASSWORD=REPLACE_WITH_SECURE_PASSWORD
DB_SSL=true
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000

# Read Replica (Optional for scaling)
DATABASE_REPLICA_URL=postgresql://USERNAME:PASSWORD@REPLICA_HOST:5432/DATABASE_NAME

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://:PASSWORD@HOST:6379/0
REDIS_HOST=your-redis-host.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=REPLACE_WITH_REDIS_PASSWORD
REDIS_DB=0
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=2000
REDIS_TLS_ENABLED=true

# Session Configuration
SESSION_SECRET=REPLACE_WITH_RANDOM_64_CHARACTER_STRING
SESSION_STORE=redis
SESSION_MAX_AGE=86400000

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
# JWT Configuration - Generate with: openssl rand -base64 64
JWT_SECRET=REPLACE_WITH_RANDOM_64_CHARACTER_STRING
JWT_EXPIRATION=1h
JWT_REFRESH_SECRET=REPLACE_WITH_DIFFERENT_64_CHARACTER_STRING
JWT_REFRESH_EXPIRATION=7d

# Encryption
ENCRYPTION_KEY=REPLACE_WITH_32_CHARACTER_STRING
ENCRYPTION_ALGORITHM=aes-256-gcm

# CORS
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
ALLOWED_ORIGINS=https://yourdomain.com

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# THIRD-PARTY SERVICES
# =============================================================================

# Stripe Payment Processing
STRIPE_SECRET_KEY=sk_live_REPLACE_WITH_STRIPE_LIVE_KEY
STRIPE_PUBLISHABLE_KEY=pk_live_REPLACE_WITH_STRIPE_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=whsec_REPLACE_WITH_WEBHOOK_SECRET

# SendGrid / Email Service
SENDGRID_API_KEY=SG.REPLACE_WITH_SENDGRID_API_KEY
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=OpenTable Clone

# Twilio SMS
TWILIO_ACCOUNT_SID=ACREPLACE_WITH_TWILIO_SID
TWILIO_AUTH_TOKEN=REPLACE_WITH_TWILIO_AUTH_TOKEN
TWILIO_PHONE_NUMBER=+1234567890
ENABLE_SMS_REMINDERS=true

# AWS S3 for File Storage
AWS_ACCESS_KEY_ID=REPLACE_WITH_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=REPLACE_WITH_AWS_SECRET_KEY
AWS_REGION=us-east-1
AWS_S3_BUCKET=opentable-clone-uploads-prod
AWS_S3_BUCKET_URL=https://opentable-clone-uploads-prod.s3.amazonaws.com

# =============================================================================
# BLOCKCHAIN INTEGRATION
# =============================================================================
# Polygon Mainnet
BLOCKCHAIN_NETWORK=polygon
BLOCKCHAIN_RPC_URL=https://polygon-rpc.com
POLYGON_RPC_URL=https://polygon-mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID
POLYGON_CHAIN_ID=137

# Smart Contract Addresses (Deploy contracts first, then add addresses)
LOYALTY_TOKEN_CONTRACT=0xREPLACE_WITH_DEPLOYED_CONTRACT_ADDRESS
NFT_CONTRACT=0xREPLACE_WITH_DEPLOYED_NFT_CONTRACT_ADDRESS
GOVERNANCE_CONTRACT=0xREPLACE_WITH_GOVERNANCE_CONTRACT_ADDRESS

# Wallet Configuration (Use hardware wallet or AWS KMS in production)
BLOCKCHAIN_WALLET_PRIVATE_KEY=REPLACE_WITH_SECURE_PRIVATE_KEY
BLOCKCHAIN_WALLET_ADDRESS=0xREPLACE_WITH_WALLET_ADDRESS

# Gas Configuration
GAS_LIMIT=500000
GAS_PRICE_MULTIPLIER=1.2

# =============================================================================
# AI & MACHINE LEARNING
# =============================================================================
# OpenAI for AI Concierge
OPENAI_API_KEY=sk-REPLACE_WITH_OPENAI_API_KEY
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=500
OPENAI_TEMPERATURE=0.7

# Voice/IoT Integration
ALEXA_SKILL_ID=REPLACE_WITH_ALEXA_SKILL_ID
GOOGLE_ACTION_PROJECT_ID=REPLACE_WITH_GOOGLE_PROJECT_ID

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Sentry for Error Tracking
SENTRY_DSN=https://REPLACE_WITH_SENTRY_DSN@sentry.io/PROJECT_ID
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Application Insights / DataDog
DATADOG_API_KEY=REPLACE_WITH_DATADOG_API_KEY
DATADOG_APP_KEY=REPLACE_WITH_DATADOG_APP_KEY

# Prometheus
PROMETHEUS_PORT=9090

# =============================================================================
# ANALYTICS
# =============================================================================
GOOGLE_ANALYTICS_ID=G-REPLACE_WITH_GA_ID
MIXPANEL_TOKEN=REPLACE_WITH_MIXPANEL_TOKEN

# =============================================================================
# SOCIAL AUTHENTICATION
# =============================================================================
# Google OAuth
GOOGLE_CLIENT_ID=REPLACE_WITH_GOOGLE_CLIENT_ID.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=REPLACE_WITH_GOOGLE_CLIENT_SECRET

# Facebook OAuth
FACEBOOK_APP_ID=REPLACE_WITH_FACEBOOK_APP_ID
FACEBOOK_APP_SECRET=REPLACE_WITH_FACEBOOK_APP_SECRET

# Apple Sign In
APPLE_CLIENT_ID=REPLACE_WITH_APPLE_CLIENT_ID
APPLE_TEAM_ID=REPLACE_WITH_APPLE_TEAM_ID
APPLE_KEY_ID=REPLACE_WITH_APPLE_KEY_ID
APPLE_PRIVATE_KEY_PATH=/path/to/apple/private/key.p8

# =============================================================================
# CDN & STORAGE
# =============================================================================
CDN_URL=https://cdn.yourdomain.com
CLOUDFLARE_ZONE_ID=REPLACE_WITH_CLOUDFLARE_ZONE_ID
CLOUDFLARE_API_TOKEN=REPLACE_WITH_CLOUDFLARE_API_TOKEN

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_GUEST_BOOKING=true
ENABLE_DINE_NOW=true
ENABLE_GIFT_CARDS=true
ENABLE_BLOCKCHAIN_LOYALTY=true
ENABLE_VR_EXPERIENCES=true
ENABLE_VOICE_IOT=true
ENABLE_AI_CONCIERGE=true
ENABLE_SOCIAL_DINING=true
ENABLE_SUSTAINABILITY_TRACKING=true

# =============================================================================
# COMPLIANCE
# =============================================================================
GDPR_ENABLED=true
COOKIE_CONSENT_REQUIRED=true
DATA_RETENTION_DAYS=2555

# =============================================================================
# PERFORMANCE
# =============================================================================
# Caching
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# Connection Pooling
DB_POOL_MIN=2
DB_POOL_MAX=10

# =============================================================================
# WEBHOOKS & CALLBACKS
# =============================================================================
STRIPE_WEBHOOK_ENDPOINT=https://api.yourdomain.com/webhooks/stripe
TWILIO_WEBHOOK_ENDPOINT=https://api.yourdomain.com/webhooks/twilio

# =============================================================================
# DEPLOYMENT
# =============================================================================
DEPLOYMENT_ENV=production
BUILD_ID=WILL_BE_SET_BY_CI_CD
GIT_COMMIT_SHA=WILL_BE_SET_BY_CI_CD
DEPLOY_TIMESTAMP=WILL_BE_SET_BY_CI_CD

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. Generate JWT secrets with: openssl rand -base64 64
# 2. Store production secrets in AWS Secrets Manager or equivalent
# 3. Rotate secrets regularly (every 90 days minimum)
# 4. Never log or expose these values in application code
# 5. Use environment-specific KMS for encryption keys
# 6. Implement secret scanning in CI/CD pipeline
# =============================================================================
